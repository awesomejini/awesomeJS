<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <title>Document</title>

</head>

<body>
    <button id="button">버튼</button>


    <script>
        // async function 더하기() {
        // // return 1 + 1;
        // return Promise.reject('실패임')
        // } // 실행 후 Promise 오브젝트가 남음 // 원래 성공만 가능
        //
        // 더하기().then(function(결과) {
        // console.log(결과)
        // })


        async function 더하기() {
            var testPromise = new Promise((res, rej) => {
                var result = 1 + 1;
                rej(result);
            });


            // testPromise.then(function() {
            // console.log('성공했어요')
            // });
            try {
                var result = await testPromise;
                console.log(result);
            } catch {
                console.log('프로미스 연산이 잘안되었군요');
            }
        }

        더하기();

        async function 더하기2() {
            var testPromise2 = new Promise((res, rej) => {
                document.getElementById('button').addEventListener('click', function() {
                    res('성공했어요');
                })
            });

            var result = await testPromise2;
            console.log(result);
        }

        더하기2();

    </script>
</body>

</html>
